<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>HealthSim Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
/* same styles as before */
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Inter;
}

body{
background:#f5f6fa;
color:#333;
}

nav{
background:white;
padding:18px 40px;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 2px 10px rgba(0,0,0,.05);
}

.logo img{
width:250px;
height:80px;
object-fit:contain;
}

.nav-right{
display:flex;
align-items:center;
gap:15px;
}

.logout{
background:#0F4C75;
color:white;
border:none;
padding:8px 16px;
border-radius:6px;
cursor:pointer;
font-weight:600;
}

.container{
max-width:1200px;
margin:auto;
padding:40px 20px;
}

.card{
background:white;
padding:25px;
border-radius:12px;
box-shadow:0 4px 15px rgba(0,0,0,.05);
margin-bottom:30px;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;
}

input{
width:100%;
padding:12px;
border-radius:6px;
border:1px solid #ccc;
margin-top:10px;
}

button{
width:100%;
padding:12px;
border:none;
border-radius:6px;
cursor:pointer;
margin-top:15px;
font-weight:600;
}

.primary-btn{
background:#0F4C75;
color:white;
}

.delete-btn{
background:#dc3545;
color:white;
}

.history-item{
background:#fff;
padding:20px;
border-radius:12px;
box-shadow:0 4px 10px rgba(0,0,0,.05);
margin-bottom:15px;
}

.modal{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,.4);
justify-content:center;
align-items:center;
}

.modal-content{
background:white;
padding:30px;
border-radius:12px;
width:90%;
max-width:400px;
}

.close-btn{
background:#ccc;
color:#333;
}

</style>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<script>
// fetch session info from server
let currentUser = null;
async function initSession(){
    const res = await fetch('/api/session');
    if(res.ok){
        currentUser = await res.json();
        userName.innerText = currentUser.name + " ("+currentUser.type+")";
        welcomeName.innerText = currentUser.name;
        if(currentUser.type === "cliente"){
            sirSection.style.display = "none";
        } else {
            diseaseSim.style.display = "none";
        }
        fetchStats();
    } else {
        location.href = '/login';
    }
}
initSession();
</script>

<nav>

<div class="logo">
<img src="/static/Imagens/logo.png" alt="Medcei">
</div>

<div class="nav-right">
<span id="userName" style="cursor:pointer;font-weight:600" onclick="abrirPerfil()"></span>
<button class="logout" onclick="logout()">Logout</button>
</div>

</nav>

<div class="container">

<div class="card">
<h2>Bem-vindo, <span id="welcomeName"></span></h2>
<p>Simulação Epidemiológica Inteligente</p>
</div>

<!-- STATS -->
<div class="grid">

<div class="card">
<h3>Total Simulações</h3>
<p id="totalSim">0</p>
</div>

<div class="card">
<h3>Última Simulação</h3>
<p id="ultimaSim">-</p>
</div>

</div>

<!-- remaining contents unchanged; you may further adapt to use APIs for history etc. -->

</div>

<script>
async function fetchStats(){
    const resp = await fetch('/api/stats/simulacoes/total');
    if(resp.ok){
        const data = await resp.json();
        totalSim.innerText = data.total_simulacoes;
    }
    // other stats calls...
}

async function logout(){
    await fetch('/api/logout',{method:'POST'});
    location.href='/login';
}
</script>

<!-- ... keep the remainder of the original home page JS functions ... -->

</body>
</html>